<tm-account-summary [summary]="summary"></tm-account-summary>

<div class="w3-card w3-white w3-margin-top w3-padding form">
  <h1>{{summary?.account.name}} <span *ngIf="stateEntries">[{{stateIndex+1}}/{{stateEntries.length}}]</span></h1>
  <form [formGroup]="formGroup">
    <tm-select label="Kategoria" [labelStyle]="labelStyle" [control]="control(CATEGORY)" [options]="categories"></tm-select>
    <tm-input-date label="Data" [labelStyle]="labelStyle" [control]="control(DATE)" [tmDatePicker]="datePicker"></tm-input-date>
    <tm-date-picker #datePicker></tm-date-picker>
    <tm-input-text label="Nazwa" [labelStyle]="labelStyle" [control]="control(NAME)"></tm-input-text>
    <tm-input-radio-group label="Typ" [labelStyle]="labelStyle" [control]="control(SIGN)" [options]="signOptions"></tm-input-radio-group>
    <tm-input-number label="Kwota" [labelStyle]="labelStyle" [control]="control(AMOUNT)"></tm-input-number>
    <tm-tagged-textarea label="Opis" [labelStyle]="labelStyle" [control]="control(DESCRIPTION)"></tm-tagged-textarea>
  </form>
  <div>
    <button class="w3-btn" [ngStyle]="{'background-color': '#' + summary?.account.color, 'color': 'white'}" 
    (click)="onSaveAndGoBack()">Zapisz i cofnij</button>
    &nbsp;
    <button class="w3-btn" [ngStyle]="{'background-color': '#' + summary?.account.color, 'color': 'white'}" 
    *ngIf="!stateEntries || stateIndex+1 < stateEntries.length"
    (click)="onSaveAndClear()">Zapisz i dodaj kolejny</button>
    &nbsp;
    <button class="w3-btn w3-border" 
    *ngIf="stateEntries && stateIndex < stateEntries.length"
    (click)="onSkip()">Pomi≈Ñ</button>
  </div>
</div>
